import{d as h,r as u,f as y,o as d,w,b as e,a as c,g as x,i as _,v as C,j as g,t as m,k as b}from"./app-DM0Ik_qX.js";import{_ as j}from"./Layout.vue_vue_type_script_setup_true_lang-D4LRfP5Q.js";const B={class:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12"},M={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},V={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8"},z={class:"mb-8"},T={class:"flex space-x-4"},U=["disabled"],D=["disabled"],E={key:0,class:"inline-block h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},H={key:1,class:"inline-block h-5 w-5 mr-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},N={key:0,class:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md"},A={class:"flex items-center"},S={class:"text-red-800 dark:text-red-200"},$={key:1,class:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md"},q={class:"flex items-center"},F={class:"text-green-800 dark:text-green-200"},G={key:2,class:"mb-6"},I={class:"bg-gray-50 dark:bg-gray-700 rounded-md p-4"},J={class:"whitespace-pre-wrap text-gray-900 dark:text-gray-100 text-sm leading-relaxed"},P=h({__name:"DouyinExtract",setup(K){const o=u(""),n=u(!1),a=u(""),s=u(""),l=u(""),v=async()=>{var i,t;if(!o.value.trim()){s.value="请输入抖音分享链接";return}if(!o.value.includes("douyin.com")){s.value="请输入有效的抖音分享链接";return}n.value=!0,s.value="",l.value="",a.value="";try{const r=await b.post("/api/tools/extract-douyin",{share_url:o.value.trim()});if(r.data.code===1){a.value=r.data.data.content,l.value="文案提取成功！";try{await b.post("/api/tools/record-usage-public",{tool_name:"抖音文案提取"})}catch(k){console.log("记录使用失败:",k)}}else s.value=r.data.message||"提取失败"}catch(r){console.error("提取失败:",r),(t=(i=r.response)==null?void 0:i.data)!=null&&t.message?s.value=r.response.data.message:s.value="网络错误，请稍后重试"}finally{n.value=!1}},f=async()=>{if(a.value)try{await navigator.clipboard.writeText(a.value),l.value="文案已复制到剪贴板！",setTimeout(()=>{l.value=""},2e3)}catch(i){console.error("复制失败:",i),s.value="复制失败，请手动复制"}},p=()=>{o.value="",a.value="",s.value="",l.value=""};return(i,t)=>(d(),y(j,{title:"抖音文案提取 - 小左子的工具箱"},{default:w(()=>[e("div",B,[e("div",M,[t[10]||(t[10]=e("div",{class:"text-center mb-12"},[e("h1",{class:"text-4xl font-bold text-gray-900 dark:text-white mb-4"}," 抖音文案提取 "),e("p",{class:"text-xl text-gray-600 dark:text-gray-400"}," 快速提取抖音视频的文案内容，支持分享链接解析 ")],-1)),e("div",V,[e("div",z,[t[3]||(t[3]=e("label",{for:"shareUrl",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 抖音分享链接 ",-1)),e("div",T,[_(e("input",{id:"shareUrl","onUpdate:modelValue":t[0]||(t[0]=r=>o.value=r),type:"text",placeholder:"请输入抖音分享链接，例如：https://v.douyin.com/xxxxx/",class:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",disabled:n.value},null,8,U),[[C,o.value]]),e("button",{onClick:v,disabled:n.value||!o.value.trim(),class:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium py-3 px-6 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[n.value?(d(),c("svg",H,t[2]||(t[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]))):(d(),c("svg",E,t[1]||(t[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1)]))),g(" "+m(n.value?"提取中...":"提取文案"),1)],8,D)]),t[4]||(t[4]=e("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"}," 支持抖音分享链接格式，系统会自动解析并提取视频文案 ",-1))]),s.value?(d(),c("div",N,[e("div",A,[t[5]||(t[5]=e("svg",{class:"h-5 w-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",S,m(s.value),1)])])):x("",!0),l.value?(d(),c("div",$,[e("div",q,[t[6]||(t[6]=e("svg",{class:"h-5 w-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",F,m(l.value),1)])])):x("",!0),a.value?(d(),c("div",G,[e("div",{class:"flex items-center justify-between mb-4"},[t[8]||(t[8]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," 提取结果 ",-1)),e("div",{class:"flex space-x-2"},[e("button",{onClick:f,class:"bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},t[7]||(t[7]=[e("svg",{class:"inline-block h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1),g(" 复制文案 ",-1)])),e("button",{onClick:p,class:"bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"}," 清空 ")])]),e("div",I,[e("pre",J,m(a.value),1)])])):x("",!0),t[9]||(t[9]=e("div",{class:"bg-blue-50 dark:bg-blue-900/20 rounded-md p-6"},[e("h3",{class:"text-lg font-medium text-blue-900 dark:text-blue-100 mb-4"}," 使用说明 "),e("div",{class:"space-y-3 text-blue-800 dark:text-blue-200"},[e("div",{class:"flex items-start"},[e("span",{class:"flex-shrink-0 w-6 h-6 bg-blue-200 dark:bg-blue-800 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 text-sm font-medium mr-3 mt-0.5"}," 1 "),e("p",null,"复制抖音视频的分享链接")]),e("div",{class:"flex items-start"},[e("span",{class:"flex-shrink-0 w-6 h-6 bg-blue-200 dark:bg-blue-800 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 text-sm font-medium mr-3 mt-0.5"}," 2 "),e("p",null,'粘贴到输入框中，点击"提取文案"按钮')]),e("div",{class:"flex items-start"},[e("span",{class:"flex-shrink-0 w-6 h-6 bg-blue-200 dark:bg-blue-800 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 text-sm font-medium mr-3 mt-0.5"}," 3 "),e("p",null,"等待系统解析，提取完成后可复制文案内容")])])],-1))])])])]),_:1}))}});export{P as default};
