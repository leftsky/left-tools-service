var ve=Object.defineProperty;var ee=o=>{throw TypeError(o)};var pe=(o,a,r)=>a in o?ve(o,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[a]=r;var b=(o,a,r)=>pe(o,typeof a!="symbol"?a+"":a,r),te=(o,a,r)=>a.has(o)||ee("Cannot "+r);var d=(o,a,r)=>(te(o,a,"read from private field"),r?r.call(o):a.get(o)),_=(o,a,r)=>a.has(o)?ee("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(o):a.set(o,r),P=(o,a,r,l)=>(te(o,a,"write to private field"),l?l.call(o,r):a.set(o,r),r);import{d as ge,r as h,f as be,g as he,o as D,w as xe,b as e,a as O,i as U,t as I,n as we,j,v as W,k as ke,l as ae,m as re}from"./app-D8cU18xk.js";import{_ as ye}from"./Layout.vue_vue_type_script_setup_true_lang-7VL9J_ZP.js";var c;(function(o){o.LOAD="LOAD",o.EXEC="EXEC",o.FFPROBE="FFPROBE",o.WRITE_FILE="WRITE_FILE",o.READ_FILE="READ_FILE",o.DELETE_FILE="DELETE_FILE",o.RENAME="RENAME",o.CREATE_DIR="CREATE_DIR",o.LIST_DIR="LIST_DIR",o.DELETE_DIR="DELETE_DIR",o.ERROR="ERROR",o.DOWNLOAD="DOWNLOAD",o.PROGRESS="PROGRESS",o.LOG="LOG",o.MOUNT="MOUNT",o.UNMOUNT="UNMOUNT"})(c||(c={}));const Ee=(()=>{let o=0;return()=>o++})(),Re=new Error("ffmpeg is not loaded, call `await ffmpeg.load()` first"),Le=new Error("called FFmpeg.terminate()");var y,V,M,$,B,H,x;class De{constructor(){_(this,y,null);_(this,V,{});_(this,M,{});_(this,$,[]);_(this,B,[]);b(this,"loaded",!1);_(this,H,()=>{d(this,y)&&(d(this,y).onmessage=({data:{id:a,type:r,data:l}})=>{switch(r){case c.LOAD:this.loaded=!0,d(this,V)[a](l);break;case c.MOUNT:case c.UNMOUNT:case c.EXEC:case c.FFPROBE:case c.WRITE_FILE:case c.READ_FILE:case c.DELETE_FILE:case c.RENAME:case c.CREATE_DIR:case c.LIST_DIR:case c.DELETE_DIR:d(this,V)[a](l);break;case c.LOG:d(this,$).forEach(i=>i(l));break;case c.PROGRESS:d(this,B).forEach(i=>i(l));break;case c.ERROR:d(this,M)[a](l);break}delete d(this,V)[a],delete d(this,M)[a]})});_(this,x,({type:a,data:r},l=[],i)=>d(this,y)?new Promise((u,g)=>{const w=Ee();d(this,y)&&d(this,y).postMessage({id:w,type:a,data:r},l),d(this,V)[w]=u,d(this,M)[w]=g,i==null||i.addEventListener("abort",()=>{g(new DOMException(`Message # ${w} was aborted`,"AbortError"))},{once:!0})}):Promise.reject(Re));b(this,"load",({classWorkerURL:a,...r}={},{signal:l}={})=>(d(this,y)||(P(this,y,a?new Worker(new URL(a,import.meta.url),{type:"module"}):new Worker(new URL("/build/assets/worker-BAOIWoxA.js",import.meta.url),{type:"module"})),d(this,H).call(this)),d(this,x).call(this,{type:c.LOAD,data:r},void 0,l)));b(this,"exec",(a,r=-1,{signal:l}={})=>d(this,x).call(this,{type:c.EXEC,data:{args:a,timeout:r}},void 0,l));b(this,"ffprobe",(a,r=-1,{signal:l}={})=>d(this,x).call(this,{type:c.FFPROBE,data:{args:a,timeout:r}},void 0,l));b(this,"terminate",()=>{const a=Object.keys(d(this,M));for(const r of a)d(this,M)[r](Le),delete d(this,M)[r],delete d(this,V)[r];d(this,y)&&(d(this,y).terminate(),P(this,y,null),this.loaded=!1)});b(this,"writeFile",(a,r,{signal:l}={})=>{const i=[];return r instanceof Uint8Array&&i.push(r.buffer),d(this,x).call(this,{type:c.WRITE_FILE,data:{path:a,data:r}},i,l)});b(this,"mount",(a,r,l)=>{const i=[];return d(this,x).call(this,{type:c.MOUNT,data:{fsType:a,options:r,mountPoint:l}},i)});b(this,"unmount",a=>{const r=[];return d(this,x).call(this,{type:c.UNMOUNT,data:{mountPoint:a}},r)});b(this,"readFile",(a,r="binary",{signal:l}={})=>d(this,x).call(this,{type:c.READ_FILE,data:{path:a,encoding:r}},void 0,l));b(this,"deleteFile",(a,{signal:r}={})=>d(this,x).call(this,{type:c.DELETE_FILE,data:{path:a}},void 0,r));b(this,"rename",(a,r,{signal:l}={})=>d(this,x).call(this,{type:c.RENAME,data:{oldPath:a,newPath:r}},void 0,l));b(this,"createDir",(a,{signal:r}={})=>d(this,x).call(this,{type:c.CREATE_DIR,data:{path:a}},void 0,r));b(this,"listDir",(a,{signal:r}={})=>d(this,x).call(this,{type:c.LIST_DIR,data:{path:a}},void 0,r));b(this,"deleteDir",(a,{signal:r}={})=>d(this,x).call(this,{type:c.DELETE_DIR,data:{path:a}},void 0,r))}on(a,r){a==="log"?d(this,$).push(r):a==="progress"&&d(this,B).push(r)}off(a,r){a==="log"?P(this,$,d(this,$).filter(l=>l!==r)):a==="progress"&&P(this,B,d(this,B).filter(l=>l!==r))}}y=new WeakMap,V=new WeakMap,M=new WeakMap,$=new WeakMap,B=new WeakMap,H=new WeakMap,x=new WeakMap;var oe;(function(o){o.MEMFS="MEMFS",o.NODEFS="NODEFS",o.NODERAWFS="NODERAWFS",o.IDBFS="IDBFS",o.WORKERFS="WORKERFS",o.PROXYFS="PROXYFS"})(oe||(oe={}));const Fe=new Error("failed to get response body reader"),Oe=new Error("failed to complete download"),Ie="Content-Length",Me=o=>new Promise((a,r)=>{const l=new FileReader;l.onload=()=>{const{result:i}=l;i instanceof ArrayBuffer?a(new Uint8Array(i)):a(new Uint8Array)},l.onerror=i=>{var u,g;r(Error(`File could not be read! Code=${((g=(u=i==null?void 0:i.target)==null?void 0:u.error)==null?void 0:g.code)||-1}`))},l.readAsArrayBuffer(o)}),se=async o=>{let a;if(typeof o=="string")/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(o)?a=atob(o.split(",")[1]).split("").map(r=>r.charCodeAt(0)):a=await(await fetch(o)).arrayBuffer();else if(o instanceof URL)a=await(await fetch(o)).arrayBuffer();else if(o instanceof File||o instanceof Blob)a=await Me(o);else return new Uint8Array;return new Uint8Array(a)},Ce=async(o,a)=>{var i;const r=await fetch(o);let l;try{const u=parseInt(r.headers.get(Ie)||"-1"),g=(i=r.body)==null?void 0:i.getReader();if(!g)throw Fe;const w=[];let C=0;for(;;){const{done:L,value:F}=await g.read(),A=F?F.length:0;if(L){if(u!=-1&&u!==C)throw Oe;a&&a({url:o,total:u,received:C,delta:A,done:L});break}w.push(F),C+=A,a&&a({url:o,total:u,received:C,delta:A,done:L})}const k=new Uint8Array(C);let m=0;for(const L of w)k.set(L,m),m+=L.length;l=k.buffer}catch(u){console.log("failed to send download progress event: ",u),l=await r.arrayBuffer()}return l},K=async(o,a,r=!1,l)=>{const i=r?await Ce(o,l):await(await fetch(o)).arrayBuffer(),u=new Blob([i],{type:a});return URL.createObjectURL(u)},Ae={class:"max-w-4xl mx-auto py-12 px-4 sm:px-6 lg:px-8"},_e={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8"},Ve={class:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md"},Se={class:"flex items-center"},Ue={class:"text-blue-800 dark:text-blue-200"},$e={class:"mb-8"},Be={class:"mt-4"},Ne={key:0,class:"mt-2 text-sm text-blue-600 dark:text-blue-400"},Pe={key:1,class:"mt-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-md"},je={class:"grid grid-cols-2 gap-2 text-xs text-gray-600 dark:text-gray-400"},Te={key:0,class:"col-span-2 text-orange-600 dark:text-orange-400 font-medium"},We={class:"mb-8"},He={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Xe={class:"flex items-center"},ze={key:0,class:"mt-2 text-xs text-orange-600 dark:text-orange-400"},Ke={class:"text-center"},Ge=["disabled"],Qe={key:0,class:"inline-block h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ye={key:1,class:"inline-block h-5 w-5 mr-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},qe={key:0,class:"mt-8"},Ze={class:"bg-gray-200 dark:bg-gray-700 rounded-full h-2"},Je={key:1,class:"mt-8"},et={class:"bg-gray-200 dark:bg-gray-700 rounded-full h-2"},tt={key:2,class:"mt-8 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md"},G="https://cdn.jsdelivr.net/npm/@ffmpeg/core-mt@0.12.9/dist/esm",st=ge({__name:"VideoConverter",setup(o){const a=h(!1),r=h(!1),l=h(!1),i=h(0),u=h(null),g=h(null),w=h(""),C=h("请选择视频文件开始转换"),k=h(null),m=s=>{C.value=s,console.log(`[VideoConverter] ${s}`)},L=h("mp4"),F=h("high"),A=h("original"),T=h("original"),S=h(!0),N=h(!1),E=new De;be(async()=>{E.on("log",({message:s})=>{var t;if(m(s),s.includes("frame=")){const n=s.match(/frame=\s*(\d+)/);if(n){const v=parseInt(n[1]),f=((t=k.value)==null?void 0:t.totalFrames)||111,p=Math.min(v/f*70,70);i.value=20+p}}}),E.on("progress",({progress:s,time:t})=>{console.log(`[VideoConverter] 转换进度: ${s*100}%, 时间: ${t}`),s>0&&(i.value=20+s*70)});try{l.value=!0,m("正在加载FFmpeg...");const s=setInterval(()=>{i.value<80&&(i.value+=5,m(`正在加载FFmpeg... ${i.value}%`))},200);await E.load({coreURL:await K(`${G}/ffmpeg-core.js`,"text/javascript"),wasmURL:await K(`${G}/ffmpeg-core.wasm`,"application/wasm"),workerURL:await K(`${G}/ffmpeg-core.worker.js`,"text/javascript")}),clearInterval(s),i.value=100,m("FFmpeg加载完成！"),a.value=!0,l.value=!1,await new Promise(t=>setTimeout(t,1e3)),m("请选择视频文件开始转换"),i.value=0}catch(s){console.error("FFmpeg加载失败:",s),m("FFmpeg加载失败，请刷新页面重试"),l.value=!1}});const le=async s=>{const t=s.target;t.files&&t.files[0]&&(u.value=t.files[0],g.value=null,w.value="",i.value=0,k.value=null,m(`已选择文件: ${u.value.name}`),await Q())},ne=async s=>{var t;console.log(s),s.preventDefault(),(t=s.dataTransfer)!=null&&t.files&&s.dataTransfer.files[0]&&(u.value=s.dataTransfer.files[0],g.value=null,w.value="",i.value=0,k.value=null,m(`已选择文件: ${u.value.name}`),await Q())},ie=s=>{s.preventDefault()},de=s=>{try{const t=s.split("/");if(t.length===2){const n=parseFloat(t[0]),v=parseFloat(t[1]);return v>0?n/v:30}return parseFloat(s)||30}catch{return console.warn("解析帧率失败，使用默认值30:",s),30}},Q=async()=>{var s,t,n;if(u.value){if(!a.value){m("FFmpeg尚未加载完成，无法读取视频信息");return}try{m("正在读取视频信息...");const v=Y(u.value.name);await E.writeFile(`temp_input.${v}`,await se(u.value));const f=await E.ffprobe(["-i",`temp_input.${v}`]);if(console.log("视频信息:",f),f.streams&&f.streams.length>0){const p=f.streams.find(R=>R.codec_type==="video");if(p){const R=parseFloat(((s=f.format)==null?void 0:s.duration)||"0"),X=de(p.r_frame_rate||"30/1"),q=Math.round(R*X),Z=p.width||0,J=p.height||0,fe=((t=f.format)==null?void 0:t.bit_rate)||"0",z=p.codec_name||"";N.value=z.toLowerCase()==="hevc"||z.toLowerCase()==="h265",k.value={duration:R,fps:X,totalFrames:q,resolution:`${Z}x${J}`,bitrate:`${Math.round(parseInt(fe)/1e3)} kbps`,format:((n=f.format)==null?void 0:n.format_name)||"unknown"},m(`视频信息: ${R.toFixed(2)}秒, ${X.toFixed(2)}fps, ${q}帧, ${Z}x${J}, 编码: ${z}`)}}await E.deleteFile(`temp_input.${v}`)}catch(v){console.error("读取视频信息失败:",v),m("读取视频信息失败，但可以继续转换")}}},ue=async()=>{if(!u.value||!E){alert("请先选择视频文件");return}console.log(E,u.value),r.value=!0,i.value=0,m("正在加载FFmpeg...");try{if(!a.value){m("FFmpeg尚未加载完成，请稍候...");return}m("开始转换..."),i.value=10;const s=Y(u.value.name),t=L.value;m("正在写入输入文件..."),await E.writeFile(`input.${s}`,await se(u.value)),i.value=20;const n=ce(s,t);S.value?m("使用快速模式转换..."):m("使用标准模式转换...");const v=new Promise((p,R)=>{setTimeout(()=>{R(new Error("转换超时，请尝试更小的文件或更低的设置"))},3e5)});try{await Promise.race([E.exec(n),v])}catch(p){if(S.value&&(p.message.includes("超时")||N.value)){m("快速模式失败，尝试极简转换...");const R=["-i",`input.${s}`,"-c:v","libx264","-preset","ultrafast","-crf","35","-c:a","aac","-b:a","64k","-threads","1","-y",`output.${t}`];console.log("极简转换命令:",R.join(" ")),await Promise.race([E.exec(R),v])}else throw p}i.value=90,m("正在读取输出文件...");const f=await E.readFile(`output.${t}`);g.value=new Blob([f.buffer],{type:`video/${t}`}),w.value=URL.createObjectURL(g.value),i.value=100,m("转换完成！")}catch(s){console.error("转换失败:",s),m("转换失败，请检查文件格式或重试"),alert("视频转换失败，请检查文件格式或重试")}finally{r.value=!1,l.value=!1}},ce=(s,t)=>{const n=["-i",`input.${s}`];switch(n.push("-y"),n.push("-loglevel","info"),F.value){case"high":n.push("-crf","18");break;case"medium":n.push("-crf","23");break;case"low":n.push("-crf","28");break}if(A.value!=="original"){const R={"4k":"3840:2160","1080p":"1920:1080","720p":"1280:720","480p":"854:480"};n.push("-vf",`scale=${R[A.value]}`)}T.value!=="original"&&n.push("-r",T.value);let v=S.value?"ultrafast":"fast",f=S.value?"fastdecode":"",p=F.value==="high"?28:F.value==="medium"?32:36;switch(N.value&&S.value&&(v="ultrafast",f="fastdecode",p=32,n.push("-threads","1")),t){case"mp4":n.push("-c:v","libx264","-preset",v,"-crf",p.toString(),"-c:a","aac","-b:a","128k"),f&&n.push("-tune",f);break;case"avi":n.push("-c:v","libx264","-preset",v,"-crf",p.toString(),"-c:a","aac","-b:a","128k"),f&&n.push("-tune",f);break;case"mov":n.push("-c:v","libx264","-preset",v,"-crf",p.toString(),"-c:a","aac","-b:a","128k"),f&&n.push("-tune",f);break;case"mkv":n.push("-c:v","libx264","-preset",v,"-crf",p.toString(),"-c:a","aac","-b:a","128k"),f&&n.push("-tune",f);break;case"wmv":n.push("-c:v","libx264","-preset",v,"-crf",p.toString(),"-c:a","aac","-b:a","128k");break;case"flv":n.push("-c:v","libx264","-preset",v,"-crf",p.toString(),"-c:a","aac","-b:a","128k"),f&&n.push("-tune",f);break}return n.push(`output.${t}`),console.log("FFmpeg命令:",n.join(" ")),n},Y=s=>{var t;return((t=s.split(".").pop())==null?void 0:t.toLowerCase())||"mp4"},me=()=>{if(g.value&&w.value){const s=document.createElement("a");s.href=w.value,s.download=`converted.${L.value}`,document.body.appendChild(s),s.click(),document.body.removeChild(s)}};return(s,t)=>(D(),he(ye,{title:"视频格式转换 - 小左子的工具箱"},{default:xe(()=>[t[30]||(t[30]=e("div",{class:"bg-white dark:bg-gray-800 shadow-sm"},[e("div",{class:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8"},[e("div",{class:"flex items-center space-x-4"},[e("div",{class:"h-12 w-12 rounded-lg bg-blue-600 flex items-center justify-center"},[e("svg",{class:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})])]),e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"视频格式转换"),e("p",{class:"text-gray-600 dark:text-gray-400"},"支持多种格式视频转换，快速高效")])])])],-1)),e("div",Ae,[e("div",_e,[e("div",Ve,[e("div",Se,[t[5]||(t[5]=e("svg",{class:"h-5 w-5 text-blue-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",Ue,I(C.value),1)])]),e("div",$e,[t[10]||(t[10]=e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"}," 选择视频文件 ",-1)),e("div",{onDrop:ne,onDragover:ie,class:we(["border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center hover:border-blue-400 dark:hover:border-blue-400 transition-colors",{"border-blue-400 bg-blue-50 dark:bg-blue-900/20":u.value}])},[t[9]||(t[9]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},[e("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("div",Be,[t[7]||(t[7]=e("label",{for:"file-upload",class:"cursor-pointer bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors"}," 选择文件 ",-1)),e("input",{id:"file-upload",name:"file-upload",type:"file",class:"sr-only",accept:"video/*",onChange:le},null,32),t[8]||(t[8]=e("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," 支持 MP4, AVI, MOV, MKV, WMV 等格式 ",-1)),u.value?(D(),O("p",Ne," 已选择: "+I(u.value.name),1)):U("",!0),k.value?(D(),O("div",Pe,[t[6]||(t[6]=e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white mb-2"},"视频信息",-1)),e("div",je,[e("div",null,"时长: "+I(k.value.duration.toFixed(2))+"秒",1),e("div",null,"帧率: "+I(k.value.fps.toFixed(2))+"fps",1),e("div",null,"总帧数: "+I(k.value.totalFrames),1),e("div",null,"分辨率: "+I(k.value.resolution),1),e("div",null,"比特率: "+I(k.value.bitrate),1),e("div",null,"格式: "+I(k.value.format),1),N.value?(D(),O("div",Te," ⚠️ HEVC编码 - 转换可能较慢 ")):U("",!0)])])):U("",!0)])],34)]),e("div",We,[t[20]||(t[20]=e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"}," 转换选项 ",-1)),e("div",He,[e("div",null,[t[12]||(t[12]=e("label",{for:"output-format",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 输出格式 ",-1)),j(e("select",{id:"output-format","onUpdate:modelValue":t[0]||(t[0]=n=>L.value=n),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"},t[11]||(t[11]=[e("option",{value:"mp4"},"MP4",-1),e("option",{value:"avi"},"AVI",-1),e("option",{value:"mov"},"MOV",-1),e("option",{value:"mkv"},"MKV",-1),e("option",{value:"wmv"},"WMV",-1),e("option",{value:"flv"},"FLV",-1)]),512),[[W,L.value]])]),e("div",null,[t[14]||(t[14]=e("label",{for:"video-quality",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 视频质量 ",-1)),j(e("select",{id:"video-quality","onUpdate:modelValue":t[1]||(t[1]=n=>F.value=n),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"},t[13]||(t[13]=[e("option",{value:"high"},"高质量",-1),e("option",{value:"medium"},"中等质量",-1),e("option",{value:"low"},"低质量",-1)]),512),[[W,F.value]])]),e("div",null,[t[16]||(t[16]=e("label",{for:"resolution",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 分辨率 ",-1)),j(e("select",{id:"resolution","onUpdate:modelValue":t[2]||(t[2]=n=>A.value=n),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"},t[15]||(t[15]=[e("option",{value:"original"},"保持原分辨率",-1),e("option",{value:"4k"},"4K (3840x2160)",-1),e("option",{value:"1080p"},"1080p (1920x1080)",-1),e("option",{value:"720p"},"720p (1280x720)",-1),e("option",{value:"480p"},"480p (854x480)",-1)]),512),[[W,A.value]])]),e("div",null,[t[18]||(t[18]=e("label",{for:"framerate",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 帧率 ",-1)),j(e("select",{id:"framerate","onUpdate:modelValue":t[3]||(t[3]=n=>T.value=n),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"},t[17]||(t[17]=[e("option",{value:"original"},"保持原帧率",-1),e("option",{value:"60"},"60 FPS",-1),e("option",{value:"30"},"30 FPS",-1),e("option",{value:"25"},"25 FPS",-1),e("option",{value:"24"},"24 FPS",-1)]),512),[[W,T.value]])]),e("div",null,[e("label",Xe,[j(e("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=n=>S.value=n),class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"},null,512),[[ke,S.value]]),t[19]||(t[19]=e("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"}," 快速模式 (推荐，转换更快) ",-1))]),N.value?(D(),O("div",ze," HEVC视频建议开启快速模式以获得更好的性能 ")):U("",!0)])])]),e("div",Ke,[e("button",{onClick:ue,disabled:!u.value||r.value||!a.value,class:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium py-3 px-8 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[r.value?(D(),O("svg",Ye,t[22]||(t[22]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]))):(D(),O("svg",Qe,t[21]||(t[21]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"},null,-1)]))),ae(" "+I(r.value?"转换中...":"开始转换"),1)],8,Ge)]),l.value?(D(),O("div",qe,[t[23]||(t[23]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"FFmpeg加载进度",-1)),e("div",Ze,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:re({width:i.value+"%"})},null,4)]),t[24]||(t[24]=e("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," 正在加载FFmpeg核心文件，请稍候... ",-1))])):U("",!0),r.value&&!l.value?(D(),O("div",Je,[t[25]||(t[25]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"转换进度",-1)),e("div",et,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:re({width:i.value+"%"})},null,4)]),t[26]||(t[26]=e("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," 正在转换中，请稍候... ",-1))])):U("",!0),g.value&&w.value?(D(),O("div",tt,[e("div",{class:"flex items-center justify-between"},[t[28]||(t[28]=e("div",{class:"flex items-center"},[e("svg",{class:"h-5 w-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("span",{class:"text-green-800 dark:text-green-200"},"转换完成！")],-1)),e("button",{onClick:me,class:"bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-md transition-colors"},t[27]||(t[27]=[e("svg",{class:"inline-block h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),ae(" 下载文件 ",-1)]))])])):U("",!0)]),t[29]||(t[29]=e("div",{class:"mt-8 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8"},[e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},"功能说明"),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6"},[e("div",null,[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," 支持的输入格式 "),e("ul",{class:"text-gray-600 dark:text-gray-400 space-y-1"},[e("li",null,"• MP4 (H.264, H.265)"),e("li",null,"• AVI (Xvid, DivX)"),e("li",null,"• MOV (QuickTime)"),e("li",null,"• MKV (Matroska)"),e("li",null,"• WMV (Windows Media)"),e("li",null,"• FLV (Flash Video)")])]),e("div",null,[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," 支持的输出格式 "),e("ul",{class:"text-gray-600 dark:text-gray-400 space-y-1"},[e("li",null,"• MP4 (H.264, H.265)"),e("li",null,"• AVI (Xvid)"),e("li",null,"• MOV (QuickTime)"),e("li",null,"• MKV (Matroska)"),e("li",null,"• WMV (Windows Media)"),e("li",null,"• FLV (Flash Video)")])])]),e("div",{class:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md"},[e("div",{class:"flex items-start"},[e("svg",{class:"h-5 w-5 text-blue-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("div",null,[e("h4",{class:"text-sm font-medium text-blue-800 dark:text-blue-200"}," 隐私保护 "),e("p",{class:"text-sm text-blue-700 dark:text-blue-300 mt-1"}," 所有视频转换都在您的浏览器本地进行，文件不会上传到服务器，确保您的隐私安全。 ")])])])],-1))])]),_:1,__:[30]}))}});export{st as default};
