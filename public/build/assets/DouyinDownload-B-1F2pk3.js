import{d as h,r as m,f as w,o as a,w as _,b as e,a as i,g as c,i as C,v as j,j as g,t as x,k as b}from"./app-C3aX_Qqd.js";import{_ as M}from"./Layout.vue_vue_type_script_setup_true_lang-3LOBtRN9.js";const B={class:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12"},V={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},T={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8"},z={class:"mb-8"},D={class:"flex space-x-4"},H=["disabled"],N={class:"flex flex-col space-y-2 self-start"},$=["disabled"],E={key:0,class:"inline-block h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},A={key:1,class:"inline-block h-5 w-5 mr-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},F={key:0,class:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md"},I={class:"flex items-center"},P={class:"text-red-800 dark:text-red-200"},S={key:1,class:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md"},U={class:"flex items-center"},q={class:"text-green-800 dark:text-green-200"},G={key:2,class:"mb-6"},J={class:"bg-gray-50 dark:bg-gray-700 rounded-md p-6"},K={class:"space-y-4"},L={key:0},O={class:"text-gray-900 dark:text-gray-100"},Q={key:1},R={class:"text-gray-900 dark:text-gray-100 font-mono text-sm"},W={class:"text-center"},ee=h({__name:"DouyinDownload",setup(X){const n=m(""),u=m(!1),o=m(null),r=m(""),d=m(""),f=async()=>{var l,t;if(!n.value.trim()){r.value="请输入抖音分享文本或链接";return}u.value=!0,r.value="",d.value="",o.value=null;try{const s=await b.post("/api/tools/parse-douyin",{share_text:n.value.trim()});if(s.data.code===1){o.value=s.data.data,d.value="视频解析成功！";try{await b.post("/api/tools/record-usage-public",{tool_name:"抖音视频解析"})}catch(y){console.log("记录使用失败:",y)}}else r.value=s.data.message||"解析失败"}catch(s){console.error("解析失败:",s),(t=(l=s.response)==null?void 0:l.data)!=null&&t.message?r.value=s.response.data.message:r.value="网络错误，请稍后重试"}finally{u.value=!1}},v=(l,t)=>{const s=document.createElement("a");s.href=l,s.download=`${t||"抖音视频"}.mp4`,s.target="_blank",document.body.appendChild(s),s.click(),document.body.removeChild(s)},k=async()=>{try{const l=await navigator.clipboard.readText();n.value=l,d.value="已从剪贴板粘贴内容",setTimeout(()=>{d.value=""},2e3)}catch(l){console.error("粘贴失败:",l),r.value="粘贴失败，请手动输入"}},p=()=>{n.value="",o.value=null,r.value="",d.value=""};return(l,t)=>(a(),w(M,{title:"抖音视频去水印 - 小左子的工具箱"},{default:_(()=>[e("div",B,[e("div",V,[t[16]||(t[16]=e("div",{class:"text-center mb-12"},[e("h1",{class:"text-4xl font-bold text-gray-900 dark:text-white mb-4"}," 抖音视频去水印 "),e("p",{class:"text-xl text-gray-600 dark:text-gray-400"}," 解析抖音分享链接，下载无水印视频 ")],-1)),e("div",T,[e("div",z,[t[5]||(t[5]=e("label",{for:"shareText",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 抖音分享文本或链接 ",-1)),e("div",D,[C(e("textarea",{id:"shareText","onUpdate:modelValue":t[0]||(t[0]=s=>n.value=s),rows:"3",placeholder:"请输入抖音分享文本或链接，例如：https://v.douyin.com/xxxxx/ 或者完整的分享文本",class:"flex-1 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white resize-none",disabled:u.value},null,8,H),[[j,n.value]]),e("div",N,[e("button",{onClick:k,class:"bg-gray-600 hover:bg-gray-700 text-white font-medium py-3 px-6 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"},t[2]||(t[2]=[e("svg",{class:"inline-block h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),g(" 粘贴 ",-1)])),e("button",{onClick:f,disabled:u.value||!n.value.trim(),class:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium py-3 px-6 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[u.value?(a(),i("svg",A,t[4]||(t[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]))):(a(),i("svg",E,t[3]||(t[3]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1)]))),g(" "+x(u.value?"解析中...":"解析视频"),1)],8,$)])]),t[6]||(t[6]=e("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"}," 支持抖音分享链接或完整的分享文本，系统会自动解析并提供下载 ",-1))]),r.value?(a(),i("div",F,[e("div",I,[t[7]||(t[7]=e("svg",{class:"h-5 w-5 text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",P,x(r.value),1)])])):c("",!0),d.value?(a(),i("div",S,[e("div",U,[t[8]||(t[8]=e("svg",{class:"h-5 w-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",q,x(d.value),1)])])):c("",!0),o.value?(a(),i("div",G,[e("div",{class:"flex items-center justify-between mb-4"},[t[9]||(t[9]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," 解析结果 ",-1)),e("button",{onClick:p,class:"bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"}," 清空 ")]),e("div",J,[e("div",K,[o.value.title?(a(),i("div",L,[t[10]||(t[10]=e("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 视频标题 ",-1)),e("p",O,x(o.value.title),1)])):c("",!0),o.value.video_id?(a(),i("div",Q,[t[11]||(t[11]=e("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 视频ID ",-1)),e("p",R,x(o.value.video_id),1)])):c("",!0),e("div",null,[t[13]||(t[13]=e("h4",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 无水印视频下载 ",-1)),e("div",W,[e("button",{onClick:t[1]||(t[1]=s=>v(o.value.url,o.value.title)),class:"bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-8 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 text-lg"},t[12]||(t[12]=[e("svg",{class:"inline-block h-6 w-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),g(" 下载无水印视频 ",-1)]))])])])])])):c("",!0),t[14]||(t[14]=e("div",{class:"bg-blue-50 dark:bg-blue-900/20 rounded-md p-6"},[e("h3",{class:"text-lg font-medium text-blue-900 dark:text-blue-100 mb-4"}," 使用说明 "),e("div",{class:"space-y-3 text-blue-800 dark:text-blue-200"},[e("div",{class:"flex items-start"},[e("span",{class:"flex-shrink-0 w-6 h-6 bg-blue-200 dark:bg-blue-800 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 text-sm font-medium mr-3 mt-0.5"}," 1 "),e("p",null,"复制抖音视频的分享文本或链接")]),e("div",{class:"flex items-start"},[e("span",{class:"flex-shrink-0 w-6 h-6 bg-blue-200 dark:bg-blue-800 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 text-sm font-medium mr-3 mt-0.5"}," 2 "),e("p",null,'点击"粘贴"按钮或手动粘贴到输入框中')]),e("div",{class:"flex items-start"},[e("span",{class:"flex-shrink-0 w-6 h-6 bg-blue-200 dark:bg-blue-800 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 text-sm font-medium mr-3 mt-0.5"}," 3 "),e("p",null,'点击"解析视频"按钮，等待系统解析')]),e("div",{class:"flex items-start"},[e("span",{class:"flex-shrink-0 w-6 h-6 bg-blue-200 dark:bg-blue-800 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 text-sm font-medium mr-3 mt-0.5"}," 4 "),e("p",null,'点击"下载无水印视频"按钮保存到本地')])])],-1)),t[15]||(t[15]=e("div",{class:"bg-yellow-50 dark:bg-yellow-900/20 rounded-md p-6 mt-6"},[e("h3",{class:"text-lg font-medium text-yellow-900 dark:text-yellow-100 mb-4"}," 注意事项 "),e("div",{class:"space-y-2 text-yellow-800 dark:text-yellow-200 text-sm"},[e("p",null,"• 本工具仅用于个人学习和研究用途"),e("p",null,"• 请尊重原创作者的版权，不要用于商业用途"),e("p",null,"• 下载的视频仅供个人使用，请勿传播或二次发布"),e("p",null,"• 如遇到解析失败，可能是链接已失效或格式不支持")])],-1))])])])]),_:1}))}});export{ee as default};
