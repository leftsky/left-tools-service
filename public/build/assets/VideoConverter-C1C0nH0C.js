var se=Object.defineProperty;var G=r=>{throw TypeError(r)};var ne=(r,o,a)=>o in r?se(r,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[o]=a;var h=(r,o,a)=>ne(r,typeof o!="symbol"?o+"":o,a),Q=(r,o,a)=>o.has(r)||G("Cannot "+a);var i=(r,o,a)=>(Q(r,o,"read from private field"),a?a.call(r):o.get(r)),I=(r,o,a)=>o.has(r)?G("Cannot add the same private member more than once"):o instanceof WeakSet?o.add(r):o.set(r,a),U=(r,o,a,s)=>(Q(r,o,"write to private field"),s?s.call(r,a):o.set(r,a),a);import{d as ie,r as k,f as de,g as ue,o as M,w as ce,b as e,a as V,i as B,t as R,n as ve,j as P,v as j,k as Y,l as q}from"./app-CeLBOsRo.js";import{_ as me}from"./Layout.vue_vue_type_script_setup_true_lang-AYSf-heW.js";var v;(function(r){r.LOAD="LOAD",r.EXEC="EXEC",r.FFPROBE="FFPROBE",r.WRITE_FILE="WRITE_FILE",r.READ_FILE="READ_FILE",r.DELETE_FILE="DELETE_FILE",r.RENAME="RENAME",r.CREATE_DIR="CREATE_DIR",r.LIST_DIR="LIST_DIR",r.DELETE_DIR="DELETE_DIR",r.ERROR="ERROR",r.DOWNLOAD="DOWNLOAD",r.PROGRESS="PROGRESS",r.LOG="LOG",r.MOUNT="MOUNT",r.UNMOUNT="UNMOUNT"})(v||(v={}));const fe=(()=>{let r=0;return()=>r++})(),pe=new Error("ffmpeg is not loaded, call `await ffmpeg.load()` first"),ge=new Error("called FFmpeg.terminate()");var E,C,F,S,_,T,x;class be{constructor(){I(this,E,null);I(this,C,{});I(this,F,{});I(this,S,[]);I(this,_,[]);h(this,"loaded",!1);I(this,T,()=>{i(this,E)&&(i(this,E).onmessage=({data:{id:o,type:a,data:s}})=>{switch(a){case v.LOAD:this.loaded=!0,i(this,C)[o](s);break;case v.MOUNT:case v.UNMOUNT:case v.EXEC:case v.FFPROBE:case v.WRITE_FILE:case v.READ_FILE:case v.DELETE_FILE:case v.RENAME:case v.CREATE_DIR:case v.LIST_DIR:case v.DELETE_DIR:i(this,C)[o](s);break;case v.LOG:i(this,S).forEach(n=>n(s));break;case v.PROGRESS:i(this,_).forEach(n=>n(s));break;case v.ERROR:i(this,F)[o](s);break}delete i(this,C)[o],delete i(this,F)[o]})});I(this,x,({type:o,data:a},s=[],n)=>i(this,E)?new Promise((u,g)=>{const w=fe();i(this,E)&&i(this,E).postMessage({id:w,type:o,data:a},s),i(this,C)[w]=u,i(this,F)[w]=g,n==null||n.addEventListener("abort",()=>{g(new DOMException(`Message # ${w} was aborted`,"AbortError"))},{once:!0})}):Promise.reject(pe));h(this,"load",({classWorkerURL:o,...a}={},{signal:s}={})=>(i(this,E)||(U(this,E,o?new Worker(new URL(o,import.meta.url),{type:"module"}):new Worker(new URL("/build/assets/worker-BAOIWoxA.js",import.meta.url),{type:"module"})),i(this,T).call(this)),i(this,x).call(this,{type:v.LOAD,data:a},void 0,s)));h(this,"exec",(o,a=-1,{signal:s}={})=>i(this,x).call(this,{type:v.EXEC,data:{args:o,timeout:a}},void 0,s));h(this,"ffprobe",(o,a=-1,{signal:s}={})=>i(this,x).call(this,{type:v.FFPROBE,data:{args:o,timeout:a}},void 0,s));h(this,"terminate",()=>{const o=Object.keys(i(this,F));for(const a of o)i(this,F)[a](ge),delete i(this,F)[a],delete i(this,C)[a];i(this,E)&&(i(this,E).terminate(),U(this,E,null),this.loaded=!1)});h(this,"writeFile",(o,a,{signal:s}={})=>{const n=[];return a instanceof Uint8Array&&n.push(a.buffer),i(this,x).call(this,{type:v.WRITE_FILE,data:{path:o,data:a}},n,s)});h(this,"mount",(o,a,s)=>{const n=[];return i(this,x).call(this,{type:v.MOUNT,data:{fsType:o,options:a,mountPoint:s}},n)});h(this,"unmount",o=>{const a=[];return i(this,x).call(this,{type:v.UNMOUNT,data:{mountPoint:o}},a)});h(this,"readFile",(o,a="binary",{signal:s}={})=>i(this,x).call(this,{type:v.READ_FILE,data:{path:o,encoding:a}},void 0,s));h(this,"deleteFile",(o,{signal:a}={})=>i(this,x).call(this,{type:v.DELETE_FILE,data:{path:o}},void 0,a));h(this,"rename",(o,a,{signal:s}={})=>i(this,x).call(this,{type:v.RENAME,data:{oldPath:o,newPath:a}},void 0,s));h(this,"createDir",(o,{signal:a}={})=>i(this,x).call(this,{type:v.CREATE_DIR,data:{path:o}},void 0,a));h(this,"listDir",(o,{signal:a}={})=>i(this,x).call(this,{type:v.LIST_DIR,data:{path:o}},void 0,a));h(this,"deleteDir",(o,{signal:a}={})=>i(this,x).call(this,{type:v.DELETE_DIR,data:{path:o}},void 0,a))}on(o,a){o==="log"?i(this,S).push(a):o==="progress"&&i(this,_).push(a)}off(o,a){o==="log"?U(this,S,i(this,S).filter(s=>s!==a)):o==="progress"&&U(this,_,i(this,_).filter(s=>s!==a))}}E=new WeakMap,C=new WeakMap,F=new WeakMap,S=new WeakMap,_=new WeakMap,T=new WeakMap,x=new WeakMap;var Z;(function(r){r.MEMFS="MEMFS",r.NODEFS="NODEFS",r.NODERAWFS="NODERAWFS",r.IDBFS="IDBFS",r.WORKERFS="WORKERFS",r.PROXYFS="PROXYFS"})(Z||(Z={}));const he=new Error("failed to get response body reader"),xe=new Error("failed to complete download"),we="Content-Length",ke=r=>new Promise((o,a)=>{const s=new FileReader;s.onload=()=>{const{result:n}=s;n instanceof ArrayBuffer?o(new Uint8Array(n)):o(new Uint8Array)},s.onerror=n=>{var u,g;a(Error(`File could not be read! Code=${((g=(u=n==null?void 0:n.target)==null?void 0:u.error)==null?void 0:g.code)||-1}`))},s.readAsArrayBuffer(r)}),J=async r=>{let o;if(typeof r=="string")/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(r)?o=atob(r.split(",")[1]).split("").map(a=>a.charCodeAt(0)):o=await(await fetch(r)).arrayBuffer();else if(r instanceof URL)o=await(await fetch(r)).arrayBuffer();else if(r instanceof File||r instanceof Blob)o=await ke(r);else return new Uint8Array;return new Uint8Array(o)},ye=async(r,o)=>{var n;const a=await fetch(r);let s;try{const u=parseInt(a.headers.get(we)||"-1"),g=(n=a.body)==null?void 0:n.getReader();if(!g)throw he;const w=[];let D=0;for(;;){const{done:c,value:L}=await g.read(),O=L?L.length:0;if(c){if(u!=-1&&u!==D)throw xe;o&&o({url:r,total:u,received:D,delta:O,done:c});break}w.push(L),D+=O,o&&o({url:r,total:u,received:D,delta:O,done:c})}const p=new Uint8Array(D);let m=0;for(const c of w)p.set(c,m),m+=c.length;s=p.buffer}catch(u){console.log("failed to send download progress event: ",u),s=await a.arrayBuffer()}return s},H=async(r,o,a=!1,s)=>{const n=a?await ye(r,s):await(await fetch(r)).arrayBuffer(),u=new Blob([n],{type:o});return URL.createObjectURL(u)},Ee={class:"max-w-4xl mx-auto py-12 px-4 sm:px-6 lg:px-8"},Re={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8"},Fe={class:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md"},De={class:"flex items-center"},Le={class:"text-blue-800 dark:text-blue-200"},Oe={class:"mb-8"},Ie={class:"mt-4"},Me={key:0,class:"mt-2 text-sm text-blue-600 dark:text-blue-400"},Ce={key:1,class:"mt-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-md"},Ae={class:"grid grid-cols-2 gap-2 text-xs text-gray-600 dark:text-gray-400"},Ve={class:"mb-8"},Se={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},_e={class:"text-center"},Ue=["disabled"],Be={key:0,class:"inline-block h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ne={key:1,class:"inline-block h-5 w-5 mr-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},$e={key:0,class:"mt-8"},Pe={class:"bg-gray-200 dark:bg-gray-700 rounded-full h-2"},je={key:1,class:"mt-8"},Te={class:"bg-gray-200 dark:bg-gray-700 rounded-full h-2"},We={key:2,class:"mt-8 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md"},X="https://cdn.jsdelivr.net/npm/@ffmpeg/core-mt@0.12.9/dist/esm",Ke=ie({__name:"VideoConverter",setup(r){const o=k(!1),a=k(!1),s=k(!1),n=k(0),u=k(null),g=k(null),w=k(""),D=k("请选择视频文件开始转换"),p=k(null),m=k(null),c=l=>{D.value=l,console.log(`[VideoConverter] ${l}`)},L=k("mp4"),O=k("high"),N=k("original"),$=k("original"),f=new be;de(async()=>{f.on("log",({message:l})=>{var t;if(c(l),l.includes("Duration:")){const d=l.match(/Duration: (\d{2}):(\d{2}):(\d{2}\.\d{2})/);if(d){const b=parseInt(d[1]),y=parseInt(d[2]),A=parseFloat(d[3]),W=b*3600+y*60+A;m.value||(m.value={duration:0,fps:30,resolution:"未知",bitrate:"未知",videoCodec:"未知",audioCodec:"未知"}),m.value.duration=W}}if(l.includes("Video:")){const d=l.match(/(\d+)x(\d+)/),b=l.match(/(\d+) fps/),y=l.match(/Video: (\w+)/),A=l.match(/(\d+) kb\/s/);m.value||(m.value={duration:0,fps:30,resolution:"未知",bitrate:"未知",videoCodec:"未知",audioCodec:"未知"}),d&&(m.value.resolution=`${d[1]}x${d[2]}`),b&&(m.value.fps=parseInt(b[1])),y&&(m.value.videoCodec=y[1]),A&&(m.value.bitrate=`${A[1]} kb/s`)}if(l.includes("Audio:")){const d=l.match(/Audio: (\w+)/);m.value||(m.value={duration:0,fps:30,resolution:"未知",bitrate:"未知",videoCodec:"未知",audioCodec:"未知"}),d&&(m.value.audioCodec=d[1])}if(l.includes("frame=")){const d=l.match(/frame=\s*(\d+)/);if(d){const b=parseInt(d[1]),y=((t=p.value)==null?void 0:t.totalFrames)||111,A=Math.min(b/y*70,70);n.value=20+A}}}),f.on("progress",({progress:l,time:t})=>{console.log(`[VideoConverter] 转换进度: ${l*100}%, 时间: ${t}`),l>0&&(n.value=20+l*70)});try{s.value=!0,c("正在加载FFmpeg...");const l=setInterval(()=>{n.value<80&&(n.value+=5,c(`正在加载FFmpeg... ${n.value}%`))},200);await f.load({coreURL:await H(`${X}/ffmpeg-core.js`,"text/javascript"),wasmURL:await H(`${X}/ffmpeg-core.wasm`,"application/wasm"),workerURL:await H(`${X}/ffmpeg-core.worker.js`,"text/javascript")}),clearInterval(l),n.value=100,c("FFmpeg加载完成！"),o.value=!0,s.value=!1,console.log("检查ffprobe可用性:",typeof f.ffprobe),console.log("FFmpeg对象:",f);try{console.log("=== FFmpeg版本信息 ==="),await f.exec(["-version"]),console.log("=== FFmpeg帮助信息 ==="),await f.exec(["-h"]),console.log("=== FFmpeg支持的格式 ==="),await f.exec(["-formats"]),console.log("=== FFmpeg支持的编码器 ==="),await f.exec(["-codecs"]),console.log("=== FFmpeg支持的过滤器 ==="),await f.exec(["-filters"]),c("FFmpeg初始化完成，已获取详细信息")}catch(t){console.warn("获取FFmpeg信息时出错:",t),c("FFmpeg初始化完成")}await new Promise(t=>setTimeout(t,1e3)),c("请选择视频文件开始转换"),n.value=0}catch(l){console.error("FFmpeg加载失败:",l),c("FFmpeg加载失败，请刷新页面重试"),s.value=!1}});const ee=async l=>{const t=l.target;t.files&&t.files[0]&&(u.value=t.files[0],g.value=null,w.value="",n.value=0,p.value=null,c(`已选择文件: ${u.value.name}`),await z())},te=async l=>{var t;console.log(l),l.preventDefault(),(t=l.dataTransfer)!=null&&t.files&&l.dataTransfer.files[0]&&(u.value=l.dataTransfer.files[0],g.value=null,w.value="",n.value=0,p.value=null,c(`已选择文件: ${u.value.name}`),await z())},oe=l=>{l.preventDefault()},z=async()=>{if(u.value){if(!o.value){c("FFmpeg尚未加载完成，无法读取视频信息");return}try{c("正在读取视频信息..."),m.value=null;const l=K(u.value.name);await f.writeFile(`temp_input.${l}`,await J(u.value)),console.log("尝试使用exec获取视频信息...");try{if(await f.exec(["-i",`temp_input.${l}`]),m.value&&m.value.duration>0){const t=Math.round(m.value.duration*m.value.fps);p.value={duration:m.value.duration,fps:m.value.fps,totalFrames:t,resolution:m.value.resolution,bitrate:m.value.bitrate,format:l},c(`视频信息读取成功: ${m.value.resolution}, ${m.value.duration.toFixed(2)}秒, ${m.value.fps}fps`),console.log("解析到的视频信息:",m.value)}else throw new Error("无法解析视频信息")}catch(t){throw console.error("exec命令失败:",t),new Error("无法读取视频信息")}await f.deleteFile(`temp_input.${l}`)}catch(l){console.error("读取视频信息失败:",l),c("读取视频信息失败，无法继续转换"),p.value=null,u.value=null}}},ae=async()=>{if(!u.value||!f){alert("请先选择视频文件");return}console.log(f,u.value),a.value=!0,n.value=0,c("正在加载FFmpeg...");try{if(!o.value){c("FFmpeg尚未加载完成，请稍候...");return}c("开始转换..."),n.value=10;const l=K(u.value.name),t=L.value;c("正在写入输入文件..."),await f.writeFile(`input.${l}`,await J(u.value)),n.value=20;const d=re(l,t);c("开始转换...");const b=new Promise((A,W)=>{setTimeout(()=>{W(new Error("转换超时，请尝试更小的文件或更低的设置"))},3e5)});await Promise.race([f.exec(d),b]),n.value=90,c("正在读取输出文件...");const y=await f.readFile(`output.${t}`);g.value=new Blob([y.buffer],{type:`video/${t}`}),w.value=URL.createObjectURL(g.value),n.value=100,c("转换完成！")}catch(l){console.error("转换失败:",l),c("转换失败，请检查文件格式或重试"),alert("视频转换失败，请检查文件格式或重试")}finally{a.value=!1,s.value=!1}},re=(l,t)=>{if(l==="mp4"&&t==="avi"){const y=["-i",`input.${l}`,`output.${t}`];return console.log("使用简洁转换命令:",y.join(" ")),y}const d=["-i",`input.${l}`];if(d.push("-y"),d.push("-loglevel","info"),N.value!=="original"){const y={"4k":"3840:2160","1080p":"1920:1080","720p":"1280:720","480p":"854:480"};d.push("-vf",`scale=${y[N.value]}`)}$.value!=="original"&&d.push("-r",$.value);const b=O.value==="high"?28:O.value==="medium"?32:36;switch(t){case"mp4":d.push("-c:v","libx264","-preset","ultrafast","-crf",b.toString(),"-c:a","aac","-b:a","128k");break;case"avi":d.push("-c:v","libx264","-preset","ultrafast","-crf",b.toString(),"-c:a","aac","-b:a","128k");break;case"mov":d.push("-c:v","libx264","-preset","ultrafast","-crf",b.toString(),"-c:a","aac","-b:a","128k");break;case"mkv":d.push("-c:v","libx264","-preset","ultrafast","-crf",b.toString(),"-c:a","aac","-b:a","128k");break;case"wmv":d.push("-c:v","libx264","-preset","ultrafast","-crf",b.toString(),"-c:a","aac","-b:a","128k");break;case"flv":d.push("-c:v","libx264","-preset","ultrafast","-crf",b.toString(),"-c:a","aac","-b:a","128k");break}return d.push(`output.${t}`),console.log("FFmpeg命令:",d.join(" ")),d},K=l=>{var t;return((t=l.split(".").pop())==null?void 0:t.toLowerCase())||"mp4"},le=()=>{if(g.value&&w.value){const l=document.createElement("a");l.href=w.value,l.download=`converted.${L.value}`,document.body.appendChild(l),l.click(),document.body.removeChild(l)}};return(l,t)=>(M(),ue(me,{title:"视频格式转换 - 小左子的工具箱"},{default:ce(()=>[t[28]||(t[28]=e("div",{class:"bg-white dark:bg-gray-800 shadow-sm"},[e("div",{class:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8"},[e("div",{class:"flex items-center space-x-4"},[e("div",{class:"h-12 w-12 rounded-lg bg-blue-600 flex items-center justify-center"},[e("svg",{class:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})])]),e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"视频格式转换"),e("p",{class:"text-gray-600 dark:text-gray-400"},"支持多种格式视频转换，快速高效")])])])],-1)),e("div",Ee,[e("div",Re,[e("div",Fe,[e("div",De,[t[4]||(t[4]=e("svg",{class:"h-5 w-5 text-blue-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",Le,R(D.value),1)])]),e("div",Oe,[t[9]||(t[9]=e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"}," 选择视频文件 ",-1)),e("div",{onDrop:te,onDragover:oe,class:ve(["border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center hover:border-blue-400 dark:hover:border-blue-400 transition-colors",{"border-blue-400 bg-blue-50 dark:bg-blue-900/20":u.value}])},[t[8]||(t[8]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},[e("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("div",Ie,[t[6]||(t[6]=e("label",{for:"file-upload",class:"cursor-pointer bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors"}," 选择文件 ",-1)),e("input",{id:"file-upload",name:"file-upload",type:"file",class:"sr-only",accept:"video/*",onChange:ee},null,32),t[7]||(t[7]=e("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," 支持 MP4, AVI, MOV, MKV, WMV 等格式 ",-1)),u.value?(M(),V("p",Me," 已选择: "+R(u.value.name),1)):B("",!0),p.value?(M(),V("div",Ce,[t[5]||(t[5]=e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white mb-2"},"视频信息",-1)),e("div",Ae,[e("div",null,"时长: "+R(p.value.duration.toFixed(2))+"秒",1),e("div",null,"帧率: "+R(p.value.fps.toFixed(2))+"fps",1),e("div",null,"总帧数: "+R(p.value.totalFrames),1),e("div",null,"分辨率: "+R(p.value.resolution),1),e("div",null,"比特率: "+R(p.value.bitrate),1),e("div",null,"格式: "+R(p.value.format),1)])])):B("",!0)])],34)]),e("div",Ve,[t[18]||(t[18]=e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"}," 转换选项 ",-1)),e("div",Se,[e("div",null,[t[11]||(t[11]=e("label",{for:"output-format",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 输出格式 ",-1)),P(e("select",{id:"output-format","onUpdate:modelValue":t[0]||(t[0]=d=>L.value=d),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"},t[10]||(t[10]=[e("option",{value:"mp4"},"MP4",-1),e("option",{value:"avi"},"AVI",-1),e("option",{value:"mov"},"MOV",-1),e("option",{value:"mkv"},"MKV",-1),e("option",{value:"wmv"},"WMV",-1),e("option",{value:"flv"},"FLV",-1)]),512),[[j,L.value]])]),e("div",null,[t[13]||(t[13]=e("label",{for:"video-quality",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 视频质量 ",-1)),P(e("select",{id:"video-quality","onUpdate:modelValue":t[1]||(t[1]=d=>O.value=d),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"},t[12]||(t[12]=[e("option",{value:"high"},"高质量",-1),e("option",{value:"medium"},"中等质量",-1),e("option",{value:"low"},"低质量",-1)]),512),[[j,O.value]])]),e("div",null,[t[15]||(t[15]=e("label",{for:"resolution",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 分辨率 ",-1)),P(e("select",{id:"resolution","onUpdate:modelValue":t[2]||(t[2]=d=>N.value=d),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"},t[14]||(t[14]=[e("option",{value:"original"},"保持原分辨率",-1),e("option",{value:"4k"},"4K (3840x2160)",-1),e("option",{value:"1080p"},"1080p (1920x1080)",-1),e("option",{value:"720p"},"720p (1280x720)",-1),e("option",{value:"480p"},"480p (854x480)",-1)]),512),[[j,N.value]])]),e("div",null,[t[17]||(t[17]=e("label",{for:"framerate",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 帧率 ",-1)),P(e("select",{id:"framerate","onUpdate:modelValue":t[3]||(t[3]=d=>$.value=d),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"},t[16]||(t[16]=[e("option",{value:"original"},"保持原帧率",-1),e("option",{value:"60"},"60 FPS",-1),e("option",{value:"30"},"30 FPS",-1),e("option",{value:"25"},"25 FPS",-1),e("option",{value:"24"},"24 FPS",-1)]),512),[[j,$.value]])])])]),e("div",_e,[e("button",{onClick:ae,disabled:!u.value||!p.value||a.value||!o.value,class:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium py-3 px-8 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[a.value?(M(),V("svg",Ne,t[20]||(t[20]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]))):(M(),V("svg",Be,t[19]||(t[19]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"},null,-1)]))),Y(" "+R(a.value?"转换中...":"开始转换"),1)],8,Ue)]),s.value?(M(),V("div",$e,[t[21]||(t[21]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"FFmpeg加载进度",-1)),e("div",Pe,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:q({width:n.value+"%"})},null,4)]),t[22]||(t[22]=e("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," 正在加载FFmpeg核心文件，请稍候... ",-1))])):B("",!0),a.value&&!s.value?(M(),V("div",je,[t[23]||(t[23]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"转换进度",-1)),e("div",Te,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:q({width:n.value+"%"})},null,4)]),t[24]||(t[24]=e("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," 正在转换中，请稍候... ",-1))])):B("",!0),g.value&&w.value?(M(),V("div",We,[e("div",{class:"flex items-center justify-between"},[t[26]||(t[26]=e("div",{class:"flex items-center"},[e("svg",{class:"h-5 w-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("span",{class:"text-green-800 dark:text-green-200"},"转换完成！")],-1)),e("button",{onClick:le,class:"bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-md transition-colors"},t[25]||(t[25]=[e("svg",{class:"inline-block h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),Y(" 下载文件 ",-1)]))])])):B("",!0)]),t[27]||(t[27]=e("div",{class:"mt-8 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8"},[e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},"功能说明"),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6"},[e("div",null,[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," 支持的输入格式 "),e("ul",{class:"text-gray-600 dark:text-gray-400 space-y-1"},[e("li",null,"• MP4 (H.264, H.265)"),e("li",null,"• AVI (Xvid, DivX)"),e("li",null,"• MOV (QuickTime)"),e("li",null,"• MKV (Matroska)"),e("li",null,"• WMV (Windows Media)"),e("li",null,"• FLV (Flash Video)")])]),e("div",null,[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," 支持的输出格式 "),e("ul",{class:"text-gray-600 dark:text-gray-400 space-y-1"},[e("li",null,"• MP4 (H.264, H.265)"),e("li",null,"• AVI (Xvid)"),e("li",null,"• MOV (QuickTime)"),e("li",null,"• MKV (Matroska)"),e("li",null,"• WMV (Windows Media)"),e("li",null,"• FLV (Flash Video)")])])]),e("div",{class:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md"},[e("div",{class:"flex items-start"},[e("svg",{class:"h-5 w-5 text-blue-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("div",null,[e("h4",{class:"text-sm font-medium text-blue-800 dark:text-blue-200"}," 隐私保护 "),e("p",{class:"text-sm text-blue-700 dark:text-blue-300 mt-1"}," 所有视频转换都在您的浏览器本地进行，文件不会上传到服务器，确保您的隐私安全。 ")])])])],-1))])]),_:1,__:[28]}))}});export{Ke as default};
