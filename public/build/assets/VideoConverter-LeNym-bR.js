var de=Object.defineProperty;var q=l=>{throw TypeError(l)};var ce=(l,o,a)=>o in l?de(l,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[o]=a;var w=(l,o,a)=>ce(l,typeof o!="symbol"?o+"":o,a),Z=(l,o,a)=>o.has(l)||q("Cannot "+a);var u=(l,o,a)=>(Z(l,o,"read from private field"),a?a.call(l):o.get(l)),A=(l,o,a)=>o.has(l)?q("Cannot add the same private member more than once"):o instanceof WeakSet?o.add(l):o.set(l,a),T=(l,o,a,n)=>(Z(l,o,"write to private field"),n?n.call(l,a):o.set(l,a),a);import{d as ve,r as E,f as fe,g as me,o as $,w as pe,b as e,a as V,i as j,t as O,n as ge,j as H,v as z,k as J,l as ee}from"./app-8Ql27VrP.js";import{_ as be}from"./Layout.vue_vue_type_script_setup_true_lang-CODUvSbW.js";var v;(function(l){l.LOAD="LOAD",l.EXEC="EXEC",l.FFPROBE="FFPROBE",l.WRITE_FILE="WRITE_FILE",l.READ_FILE="READ_FILE",l.DELETE_FILE="DELETE_FILE",l.RENAME="RENAME",l.CREATE_DIR="CREATE_DIR",l.LIST_DIR="LIST_DIR",l.DELETE_DIR="DELETE_DIR",l.ERROR="ERROR",l.DOWNLOAD="DOWNLOAD",l.PROGRESS="PROGRESS",l.LOG="LOG",l.MOUNT="MOUNT",l.UNMOUNT="UNMOUNT"})(v||(v={}));const he=(()=>{let l=0;return()=>l++})(),we=new Error("ffmpeg is not loaded, call `await ffmpeg.load()` first"),xe=new Error("called FFmpeg.terminate()");var y,S,I,_,U,X,x;class ke{constructor(){A(this,y,null);A(this,S,{});A(this,I,{});A(this,_,[]);A(this,U,[]);w(this,"loaded",!1);A(this,X,()=>{u(this,y)&&(u(this,y).onmessage=({data:{id:o,type:a,data:n}})=>{switch(a){case v.LOAD:this.loaded=!0,u(this,S)[o](n);break;case v.MOUNT:case v.UNMOUNT:case v.EXEC:case v.FFPROBE:case v.WRITE_FILE:case v.READ_FILE:case v.DELETE_FILE:case v.RENAME:case v.CREATE_DIR:case v.LIST_DIR:case v.DELETE_DIR:u(this,S)[o](n);break;case v.LOG:u(this,_).forEach(i=>i(n));break;case v.PROGRESS:u(this,U).forEach(i=>i(n));break;case v.ERROR:u(this,I)[o](n);break}delete u(this,S)[o],delete u(this,I)[o]})});A(this,x,({type:o,data:a},n=[],i)=>u(this,y)?new Promise((d,b)=>{const k=he();u(this,y)&&u(this,y).postMessage({id:k,type:o,data:a},n),u(this,S)[k]=d,u(this,I)[k]=b,i==null||i.addEventListener("abort",()=>{b(new DOMException(`Message # ${k} was aborted`,"AbortError"))},{once:!0})}):Promise.reject(we));w(this,"load",({classWorkerURL:o,...a}={},{signal:n}={})=>(u(this,y)||(T(this,y,o?new Worker(new URL(o,import.meta.url),{type:"module"}):new Worker(new URL("/build/assets/worker-BAOIWoxA.js",import.meta.url),{type:"module"})),u(this,X).call(this)),u(this,x).call(this,{type:v.LOAD,data:a},void 0,n)));w(this,"exec",(o,a=-1,{signal:n}={})=>u(this,x).call(this,{type:v.EXEC,data:{args:o,timeout:a}},void 0,n));w(this,"ffprobe",(o,a=-1,{signal:n}={})=>u(this,x).call(this,{type:v.FFPROBE,data:{args:o,timeout:a}},void 0,n));w(this,"terminate",()=>{const o=Object.keys(u(this,I));for(const a of o)u(this,I)[a](xe),delete u(this,I)[a],delete u(this,S)[a];u(this,y)&&(u(this,y).terminate(),T(this,y,null),this.loaded=!1)});w(this,"writeFile",(o,a,{signal:n}={})=>{const i=[];return a instanceof Uint8Array&&i.push(a.buffer),u(this,x).call(this,{type:v.WRITE_FILE,data:{path:o,data:a}},i,n)});w(this,"mount",(o,a,n)=>{const i=[];return u(this,x).call(this,{type:v.MOUNT,data:{fsType:o,options:a,mountPoint:n}},i)});w(this,"unmount",o=>{const a=[];return u(this,x).call(this,{type:v.UNMOUNT,data:{mountPoint:o}},a)});w(this,"readFile",(o,a="binary",{signal:n}={})=>u(this,x).call(this,{type:v.READ_FILE,data:{path:o,encoding:a}},void 0,n));w(this,"deleteFile",(o,{signal:a}={})=>u(this,x).call(this,{type:v.DELETE_FILE,data:{path:o}},void 0,a));w(this,"rename",(o,a,{signal:n}={})=>u(this,x).call(this,{type:v.RENAME,data:{oldPath:o,newPath:a}},void 0,n));w(this,"createDir",(o,{signal:a}={})=>u(this,x).call(this,{type:v.CREATE_DIR,data:{path:o}},void 0,a));w(this,"listDir",(o,{signal:a}={})=>u(this,x).call(this,{type:v.LIST_DIR,data:{path:o}},void 0,a));w(this,"deleteDir",(o,{signal:a}={})=>u(this,x).call(this,{type:v.DELETE_DIR,data:{path:o}},void 0,a))}on(o,a){o==="log"?u(this,_).push(a):o==="progress"&&u(this,U).push(a)}off(o,a){o==="log"?T(this,_,u(this,_).filter(n=>n!==a)):o==="progress"&&T(this,U,u(this,U).filter(n=>n!==a))}}y=new WeakMap,S=new WeakMap,I=new WeakMap,_=new WeakMap,U=new WeakMap,X=new WeakMap,x=new WeakMap;var te;(function(l){l.MEMFS="MEMFS",l.NODEFS="NODEFS",l.NODERAWFS="NODERAWFS",l.IDBFS="IDBFS",l.WORKERFS="WORKERFS",l.PROXYFS="PROXYFS"})(te||(te={}));const Ee=new Error("failed to get response body reader"),ye=new Error("failed to complete download"),Re="Content-Length",Fe=l=>new Promise((o,a)=>{const n=new FileReader;n.onload=()=>{const{result:i}=n;i instanceof ArrayBuffer?o(new Uint8Array(i)):o(new Uint8Array)},n.onerror=i=>{var d,b;a(Error(`File could not be read! Code=${((b=(d=i==null?void 0:i.target)==null?void 0:d.error)==null?void 0:b.code)||-1}`))},n.readAsArrayBuffer(l)}),oe=async l=>{let o;if(typeof l=="string")/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(l)?o=atob(l.split(",")[1]).split("").map(a=>a.charCodeAt(0)):o=await(await fetch(l)).arrayBuffer();else if(l instanceof URL)o=await(await fetch(l)).arrayBuffer();else if(l instanceof File||l instanceof Blob)o=await Fe(l);else return new Uint8Array;return new Uint8Array(o)},De=async(l,o)=>{var i;const a=await fetch(l);let n;try{const d=parseInt(a.headers.get(Re)||"-1"),b=(i=a.body)==null?void 0:i.getReader();if(!b)throw Ee;const k=[];let M=0;for(;;){const{done:f,value:R}=await b.read(),L=R?R.length:0;if(f){if(d!=-1&&d!==M)throw ye;o&&o({url:l,total:d,received:M,delta:L,done:f});break}k.push(R),M+=L,o&&o({url:l,total:d,received:M,delta:L,done:f})}const g=new Uint8Array(M);let c=0;for(const f of k)g.set(f,c),c+=f.length;n=g.buffer}catch(d){console.log("failed to send download progress event: ",d),n=await a.arrayBuffer()}return n},G=async(l,o,a=!1,n)=>{const i=a?await De(l,n):await(await fetch(l)).arrayBuffer(),d=new Blob([i],{type:o});return URL.createObjectURL(d)},Le={class:"max-w-4xl mx-auto py-12 px-4 sm:px-6 lg:px-8"},Oe={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8"},Ie={class:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md"},Me={class:"flex items-center"},Ce={class:"text-blue-800 dark:text-blue-200"},Ae={class:"mb-8"},$e={class:"mt-4"},Se={key:0,class:"mt-2 text-sm text-blue-600 dark:text-blue-400"},Ve={key:1,class:"mt-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-md"},_e={class:"grid grid-cols-2 gap-2 text-xs text-gray-600 dark:text-gray-400"},Ue={class:"mb-8"},Be={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ne={class:"text-center"},Pe=["disabled"],Te={key:0,class:"inline-block h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},je={key:1,class:"inline-block h-5 w-5 mr-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},We={key:0,class:"mt-8"},He={class:"bg-gray-200 dark:bg-gray-700 rounded-full h-2"},ze={key:1,class:"mt-8"},Xe={class:"bg-gray-200 dark:bg-gray-700 rounded-full h-2"},Ke={key:2,class:"mt-8 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md"},Q="https://cdn.jsdelivr.net/npm/@ffmpeg/core-mt@0.12.10/dist/esm",qe=ve({__name:"VideoConverter",setup(l){const o=E(!1),a=E(!1),n=E(!1),i=E(0),d=E(null),b=E(null),k=E(""),M=E("请选择视频文件开始转换"),g=E(null),c=E(null),f=r=>{M.value=r,console.log(`[VideoConverter] ${r}`)},R=E("mp4"),L=E("high"),B=E("original"),N=E("original"),p=new ke;fe(async()=>{p.off("log"),p.off("progress"),p.on("log",({message:r})=>{var t;if(a.value?(console.log(`[FFmpeg转换] ${r}`),f(r)):(r.includes("Duration:")||r.includes("Video:")||r.includes("Audio:"))&&console.log(`[FFmpeg信息] ${r}`),r.includes("Duration:")){const s=r.match(/Duration: (\d{2}):(\d{2}):(\d{2}\.\d{2})/);if(s){const m=parseInt(s[1]),h=parseInt(s[2]),F=parseFloat(s[3]),C=m*3600+h*60+F;c.value||(c.value={duration:0,fps:30,resolution:"未知",bitrate:"未知",videoCodec:"未知",audioCodec:"未知"}),c.value.duration=C}}if(r.includes("Video:")){console.log("解析视频信息行:",r);const s=r.match(/(\d{3,4})x(\d{3,4})/),m=r.match(/(\d+) fps/),h=r.match(/Video: (\w+)/),F=r.match(/(\d+) kb\/s/);if(c.value||(c.value={duration:0,fps:30,resolution:"未知",bitrate:"未知",videoCodec:"未知",audioCodec:"未知"}),s){const C=parseInt(s[1]),P=parseInt(s[2]);C>=100&&P>=100?(c.value.resolution=`${C}x${P}`,console.log("解析到分辨率:",c.value.resolution)):console.log("分辨率值不合理，跳过:",C,"x",P)}m&&(c.value.fps=parseInt(m[1]),console.log("解析到帧率:",c.value.fps)),h&&(c.value.videoCodec=h[1],console.log("解析到视频编解码器:",c.value.videoCodec)),F&&(c.value.bitrate=`${F[1]} kb/s`,console.log("解析到比特率:",c.value.bitrate))}if(r.includes("Audio:")){const s=r.match(/Audio: (\w+)/);c.value||(c.value={duration:0,fps:30,resolution:"未知",bitrate:"未知",videoCodec:"未知",audioCodec:"未知"}),s&&(c.value.audioCodec=s[1])}if(r.includes("frame=")){const s=r.match(/frame=\s*(\d+)/);if(s&&a.value){const m=parseInt(s[1]),h=((t=g.value)==null?void 0:t.totalFrames)||111,F=Math.min(m/h*70,70);i.value=20+F,console.log(`[转换进度] ${m}/${h} 帧 (${i.value.toFixed(1)}%) - ${new Date().toLocaleTimeString()}`)}}if(a.value){if(r.includes("Stream mapping:"))console.log("[转换阶段] 开始流映射...");else if(r.includes("Output #0"))console.log("[转换阶段] 开始输出...");else if(r.includes("frame=")&&r.includes("fps=")){const s=r.match(/fps=\s*(\d+)/);s&&console.log(`[转换性能] 当前FPS: ${s[1]}`)}}}),p.on("progress",({progress:r,time:t})=>{console.log(`[VideoConverter] 转换进度: ${r*100}%, 时间: ${t}`),r>0&&(i.value=20+r*70)});try{n.value=!0,f("正在加载FFmpeg...");const r=setInterval(()=>{i.value<80&&(i.value+=5,f(`正在加载FFmpeg... ${i.value}%`))},200);await p.load({coreURL:await G(`${Q}/ffmpeg-core.js`,"text/javascript"),wasmURL:await G(`${Q}/ffmpeg-core.wasm`,"application/wasm"),workerURL:await G(`${Q}/ffmpeg-core.worker.js`,"text/javascript")}),clearInterval(r),i.value=100,f("FFmpeg加载完成！"),o.value=!0,n.value=!1,console.log("检查ffprobe可用性:",typeof p.ffprobe),console.log("FFmpeg对象:",p),await new Promise(t=>setTimeout(t,1e3)),f("请选择视频文件开始转换"),i.value=0}catch(r){console.error("FFmpeg加载失败:",r),f("FFmpeg加载失败，请刷新页面重试"),n.value=!1}});const ae=async r=>{const t=r.target;t.files&&t.files[0]&&(d.value=t.files[0],b.value=null,k.value="",i.value=0,g.value=null,f(`已选择文件: ${d.value.name}`),await Y())},le=async r=>{var t;console.log(r),r.preventDefault(),(t=r.dataTransfer)!=null&&t.files&&r.dataTransfer.files[0]&&(d.value=r.dataTransfer.files[0],b.value=null,k.value="",i.value=0,g.value=null,f(`已选择文件: ${d.value.name}`),await Y())},re=r=>{r.preventDefault()},Y=async()=>{if(d.value){if(!o.value){f("FFmpeg尚未加载完成，无法读取视频信息");return}try{f("正在读取视频信息..."),c.value=null;const r=W(d.value.name);await p.writeFile(`temp_input.${r}`,await oe(d.value)),console.log("尝试使用exec获取视频信息...");try{if(await p.exec(["-i",`temp_input.${r}`]),c.value&&c.value.duration>0){const t=Math.round(c.value.duration*c.value.fps);g.value={duration:c.value.duration,fps:c.value.fps,totalFrames:t,resolution:c.value.resolution,bitrate:c.value.bitrate,format:r},f(`视频信息读取成功: ${c.value.resolution}, ${c.value.duration.toFixed(2)}秒, ${c.value.fps}fps`),console.log("解析到的视频信息:",c.value)}else throw new Error("无法解析视频信息")}catch(t){throw console.error("exec命令失败:",t),new Error("无法读取视频信息")}await p.deleteFile(`temp_input.${r}`)}catch(r){console.error("读取视频信息失败:",r),f("读取视频信息失败，无法继续转换"),g.value=null,d.value=null}}},se=async()=>{var r,t;if(!d.value||!p){alert("请先选择视频文件");return}console.log("=== 开始转换 ==="),console.log("FFmpeg实例:",p),console.log("选择文件:",d.value.name,"大小:",(d.value.size/1024/1024).toFixed(2),"MB"),console.log("输出格式:",R.value),console.log("视频质量:",L.value),console.log("分辨率设置:",B.value),console.log("帧率设置:",N.value),a.value=!0,i.value=0,f("正在加载FFmpeg...");try{if(!o.value){f("FFmpeg尚未加载完成，请稍候...");return}f("开始转换..."),i.value=10;const s=W(d.value.name),m=R.value;f("正在写入输入文件..."),console.log("开始写入输入文件...");const h=Date.now();await p.writeFile(`input.${s}`,await oe(d.value));const F=Date.now()-h;console.log(`文件写入完成，耗时: ${F}ms`),i.value=20;const C=ne(s,m);f("开始转换..."),console.log("执行FFmpeg命令:",C.join(" ")),console.log("转换开始时间:",new Date().toLocaleTimeString());const P=new Promise((D,K)=>{setTimeout(()=>{K(new Error("转换超时，请尝试更小的文件或更低的设置"))},1e3*60)});try{const D=Date.now();await Promise.race([p.exec(C),P]);const K=Date.now()-D;console.log("FFmpeg转换命令执行完成"),console.log(`转换耗时: ${K}ms`),console.log("转换结束时间:",new Date().toLocaleTimeString()),i.value=90}catch(D){throw console.error("FFmpeg执行错误:",D),console.error("错误详情:",D.stack),new Error(`转换执行失败: ${D.message}`)}f("正在读取输出文件...");const ue=await p.readFile(`output.${m}`);b.value=new Blob([ue.buffer],{type:`video/${m}`}),k.value=URL.createObjectURL(b.value),i.value=100,f("转换完成！");try{const D=W(((r=d.value)==null?void 0:r.name)||"");await p.deleteFile(`input.${D}`),await p.deleteFile(`output.${m}`),console.log("转换完成，已清理临时文件")}catch(D){console.warn("清理临时文件失败:",D)}}catch(s){console.error("=== 转换失败 ==="),console.error("错误类型:",s.constructor.name),console.error("错误消息:",s.message),console.error("错误堆栈:",s.stack);let m="转换失败，请检查文件格式或重试";s.message.includes("超时")?m="转换超时，建议：1. 尝试更小的文件 2. 降低视频质量设置 3. 检查网络连接":s.message.includes("编码器")?m="编码器错误，建议：1. 尝试不同的输出格式 2. 检查输入文件是否损坏":s.message.includes("内存")&&(m="内存不足，建议：1. 关闭其他程序 2. 尝试更小的文件"),f(m),alert(m);try{const h=W(((t=d.value)==null?void 0:t.name)||""),F=R.value;await p.deleteFile(`input.${h}`),await p.deleteFile(`output.${F}`),console.log("已清理临时文件")}catch(h){console.warn("清理临时文件失败:",h)}}finally{a.value=!1,n.value=!1,console.log("=== 转换流程结束 ===")}},ne=(r,t)=>{const s=["-i",`input.${r}`];if(s.push("-y"),s.push("-loglevel","info"),B.value!=="original"){const h={"4k":"3840:2160","1080p":"1920:1080","720p":"1280:720","480p":"854:480"};s.push("-vf",`scale=${h[B.value]}`)}N.value!=="original"&&s.push("-r",N.value);const m=L.value==="high"?18:L.value==="medium"?23:28;switch(t){case"mp4":s.push("-c:v","libx264","-preset","ultrafast","-crf",m.toString(),"-c:a","aac","-b:a","128k");break;case"avi":s.push("-c:v","libx264","-preset","ultrafast","-crf",m.toString(),"-c:a","mp3","-b:a","128k");break;case"mov":s.push("-c:v","libx264","-preset","ultrafast","-crf",m.toString(),"-c:a","aac","-b:a","128k");break;case"mkv":s.push("-c:v","libx264","-preset","ultrafast","-crf",m.toString(),"-c:a","aac","-b:a","128k");break;case"wmv":s.push("-c:v","libx264","-preset","ultrafast","-crf",m.toString(),"-c:a","aac","-b:a","128k");break;case"flv":s.push("-c:v","libx264","-preset","ultrafast","-crf",m.toString(),"-c:a","aac","-b:a","128k");break}return s.push(`output.${t}`),console.log("FFmpeg命令:",s.join(" ")),s},W=r=>{var t;return((t=r.split(".").pop())==null?void 0:t.toLowerCase())||"mp4"},ie=()=>{if(b.value&&k.value){const r=document.createElement("a");r.href=k.value,r.download=`converted.${R.value}`,document.body.appendChild(r),r.click(),document.body.removeChild(r)}};return(r,t)=>($(),me(be,{title:"视频格式转换 - 小左子的工具箱"},{default:pe(()=>[t[28]||(t[28]=e("div",{class:"bg-white dark:bg-gray-800 shadow-sm"},[e("div",{class:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8"},[e("div",{class:"flex items-center space-x-4"},[e("div",{class:"h-12 w-12 rounded-lg bg-blue-600 flex items-center justify-center"},[e("svg",{class:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})])]),e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"视频格式转换"),e("p",{class:"text-gray-600 dark:text-gray-400"},"支持多种格式视频转换，快速高效")])])])],-1)),e("div",Le,[e("div",Oe,[e("div",Ie,[e("div",Me,[t[4]||(t[4]=e("svg",{class:"h-5 w-5 text-blue-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",Ce,O(M.value),1)])]),e("div",Ae,[t[9]||(t[9]=e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"}," 选择视频文件 ",-1)),e("div",{onDrop:le,onDragover:re,class:ge(["border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center hover:border-blue-400 dark:hover:border-blue-400 transition-colors",{"border-blue-400 bg-blue-50 dark:bg-blue-900/20":d.value}])},[t[8]||(t[8]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},[e("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("div",$e,[t[6]||(t[6]=e("label",{for:"file-upload",class:"cursor-pointer bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition-colors"}," 选择文件 ",-1)),e("input",{id:"file-upload",name:"file-upload",type:"file",class:"sr-only",accept:"video/*",onChange:ae},null,32),t[7]||(t[7]=e("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," 支持 MP4, AVI, MOV, MKV, WMV 等格式 ",-1)),d.value?($(),V("p",Se," 已选择: "+O(d.value.name),1)):j("",!0),g.value?($(),V("div",Ve,[t[5]||(t[5]=e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white mb-2"}," 视频信息 ",-1)),e("div",_e,[e("div",null,"时长: "+O(g.value.duration.toFixed(2))+"秒",1),e("div",null,"帧率: "+O(g.value.fps.toFixed(2))+"fps",1),e("div",null,"总帧数: "+O(g.value.totalFrames),1),e("div",null,"分辨率: "+O(g.value.resolution),1),e("div",null,"比特率: "+O(g.value.bitrate),1),e("div",null,"格式: "+O(g.value.format),1)])])):j("",!0)])],34)]),e("div",Ue,[t[18]||(t[18]=e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"}," 转换选项 ",-1)),e("div",Be,[e("div",null,[t[11]||(t[11]=e("label",{for:"output-format",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 输出格式 ",-1)),H(e("select",{id:"output-format","onUpdate:modelValue":t[0]||(t[0]=s=>R.value=s),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"},t[10]||(t[10]=[e("option",{value:"mp4"},"MP4",-1),e("option",{value:"avi"},"AVI",-1),e("option",{value:"mov"},"MOV",-1),e("option",{value:"mkv"},"MKV",-1),e("option",{value:"wmv"},"WMV",-1),e("option",{value:"flv"},"FLV",-1)]),512),[[z,R.value]])]),e("div",null,[t[13]||(t[13]=e("label",{for:"video-quality",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 视频质量 ",-1)),H(e("select",{id:"video-quality","onUpdate:modelValue":t[1]||(t[1]=s=>L.value=s),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"},t[12]||(t[12]=[e("option",{value:"high"},"高质量",-1),e("option",{value:"medium"},"中等质量",-1),e("option",{value:"low"},"低质量",-1)]),512),[[z,L.value]])]),e("div",null,[t[15]||(t[15]=e("label",{for:"resolution",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 分辨率 ",-1)),H(e("select",{id:"resolution","onUpdate:modelValue":t[2]||(t[2]=s=>B.value=s),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"},t[14]||(t[14]=[e("option",{value:"original"},"保持原分辨率",-1),e("option",{value:"4k"},"4K (3840x2160)",-1),e("option",{value:"1080p"},"1080p (1920x1080)",-1),e("option",{value:"720p"},"720p (1280x720)",-1),e("option",{value:"480p"},"480p (854x480)",-1)]),512),[[z,B.value]])]),e("div",null,[t[17]||(t[17]=e("label",{for:"framerate",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 帧率 ",-1)),H(e("select",{id:"framerate","onUpdate:modelValue":t[3]||(t[3]=s=>N.value=s),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"},t[16]||(t[16]=[e("option",{value:"original"},"保持原帧率",-1),e("option",{value:"60"},"60 FPS",-1),e("option",{value:"30"},"30 FPS",-1),e("option",{value:"25"},"25 FPS",-1),e("option",{value:"24"},"24 FPS",-1)]),512),[[z,N.value]])])])]),e("div",Ne,[e("button",{onClick:se,disabled:!d.value||!g.value||a.value||!o.value,class:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium py-3 px-8 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[a.value?($(),V("svg",je,t[20]||(t[20]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)]))):($(),V("svg",Te,t[19]||(t[19]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"},null,-1)]))),J(" "+O(a.value?"转换中...":"开始转换"),1)],8,Pe)]),n.value?($(),V("div",We,[t[21]||(t[21]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," FFmpeg加载进度 ",-1)),e("div",He,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:ee({width:i.value+"%"})},null,4)]),t[22]||(t[22]=e("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," 正在加载FFmpeg核心文件，请稍候... ",-1))])):j("",!0),a.value&&!n.value?($(),V("div",ze,[t[23]||(t[23]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"转换进度",-1)),e("div",Xe,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:ee({width:i.value+"%"})},null,4)]),t[24]||(t[24]=e("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," 正在转换中，请稍候... ",-1))])):j("",!0),b.value&&k.value?($(),V("div",Ke,[e("div",{class:"flex items-center justify-between"},[t[26]||(t[26]=e("div",{class:"flex items-center"},[e("svg",{class:"h-5 w-5 text-green-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("span",{class:"text-green-800 dark:text-green-200"},"转换完成！")],-1)),e("button",{onClick:ie,class:"bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-md transition-colors"},t[25]||(t[25]=[e("svg",{class:"inline-block h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),J(" 下载文件 ",-1)]))])])):j("",!0)]),t[27]||(t[27]=e("div",{class:"mt-8 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8"},[e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4"},"功能说明"),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6"},[e("div",null,[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," 支持的输入格式 "),e("ul",{class:"text-gray-600 dark:text-gray-400 space-y-1"},[e("li",null,"• MP4 (H.264, H.265)"),e("li",null,"• AVI (Xvid, DivX)"),e("li",null,"• MOV (QuickTime)"),e("li",null,"• MKV (Matroska)"),e("li",null,"• WMV (Windows Media)"),e("li",null,"• FLV (Flash Video)")])]),e("div",null,[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," 支持的输出格式 "),e("ul",{class:"text-gray-600 dark:text-gray-400 space-y-1"},[e("li",null,"• MP4 (H.264, H.265)"),e("li",null,"• AVI (Xvid)"),e("li",null,"• MOV (QuickTime)"),e("li",null,"• MKV (Matroska)"),e("li",null,"• WMV (Windows Media)"),e("li",null,"• FLV (Flash Video)")])])]),e("div",{class:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md"},[e("div",{class:"flex items-start"},[e("svg",{class:"h-5 w-5 text-blue-400 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("div",null,[e("h4",{class:"text-sm font-medium text-blue-800 dark:text-blue-200"}," 隐私保护 "),e("p",{class:"text-sm text-blue-700 dark:text-blue-300 mt-1"}," 所有视频转换都在您的浏览器本地进行，文件不会上传到服务器，确保您的隐私安全。 ")])])])],-1))])]),_:1,__:[28]}))}});export{qe as default};
